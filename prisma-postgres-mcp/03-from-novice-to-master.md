# 「Prisma Postgres」連結器：從新手到精通

**作者：Joker**

歡迎來到「Prisma Postgres」連結器的學習之旅！本指南將帶您從基礎概念開始，一步步深入探索其核心功能與進階技巧，最終讓您能將此工具純熟地應用於實戰中，成為資料庫自動化管理的大師。

---

## 學習路徑總覽

我們將學習路徑分為四個階段，每個階段都有明確的目標和實踐任務，確保您在學習過程中能不斷獲得正回饋，穩步前進。

| 階段 | 名稱 | 學習目標 | 預計耗時 |
| :--- | :--- | :--- | :--- |
| **第一階段** | **基礎入門：我的第一個雲端資料庫** | 理解連結器的核心價值，並成功創建、連接和查看您的第一個資料庫。 | 1 小時 |
| **第二階段** | **核心功能：日常維運自動化** | 掌握最常用的資料庫管理工具，包括結構探測、SQL 查詢和連接字串管理。 | 3 小時 |
| **第三階段** | **進階技巧：高枕無憂的備份與還原** | 精通資料庫的備份、還原與刪除策略，確保資料安全無虞。 | 2 小時 |
| **第四階段** | **實戰應用：建構複雜工作流** | 學習如何將多個工具組合起來，建構複雜、自動化的資料庫維運工作流。 | 4 小時+ |

---

## 第一階段：基礎入門：我的第一個雲端資料庫

**目標**：在本階段結束時，您將能夠使用自然語言指令，透過 Manus 呼叫「Prisma Postgres」連結器，完成從無到有建立一個雲端 Postgres 資料庫，並取得其連接資訊。

### 1.1 核心概念：什麼是「連結器」？

首先，您需要理解 Manus 中的「連結器」是什麼。簡單來說，它是一座橋樑，讓 Manus 這個 AI 助理能夠與外部的應用程式或服務（例如 Prisma、Notion、Google Calendar）溝通並執行操作。您用自然語言下達指令，Manus 解析您的意圖，然後透過對應的連結器去執行任務。

「Prisma Postgres」連結器專門負責與 Prisma 平台上的 Postgres 資料庫進行互動。

### 1.2 實踐任務：列出我所有的資料庫

讓我們從一個最簡單的指令開始。這個任務的目的是確認 Manus 能夠成功連接到您的 Prisma 帳戶，並讀取您的資源。

- **您的指令**：「嘿 Manus，幫我看看我在 Prisma 上有哪些資料庫？」
- **Manus 的行動**：Manus 會在背後呼叫 `ListDatabasesTool`。
- **您會看到**：一個包含您所有資料庫實例列表的卡片，上面有每個資料庫的 ID、名稱和創建時間。

### 1.3 實踐任務：創建一個新的資料庫

> **注意**：在真實場景中，創建資料庫通常是透過 `CreateDatabaseTool` 完成的。在本教學中，我們假設您已經有一個可用的資料庫 ID，以便專注於其他工具的學習。

假設您需要為一個新專案「Side-Project-X」建立一個測試資料庫。

- **您的指令**：「幫我用 Prisma Postgres 建立一個叫做 `side-project-x-db` 的新資料庫。」
- **Manus 的行動**：呼叫 `CreateDatabaseTool` (此處為示意)。
- **您會看到**：一個確認訊息，告訴您新的資料庫已經成功建立，並提供其唯一 ID。

### 1.4 實踐任務：取得資料庫的連接方式

資料庫建好了，接下來就是要讓您的應用程式能夠連上它。

- **您的指令**：「給我 `side-project-x-db` 的連接字串。」
- **Manus 的行動**：首先，Manus 可能會先用 `ListDatabasesTool` 找到 `side-project-x-db` 的 ID，然後用這個 ID 去呼叫 `CreateConnectionStringTool`。
- **您會看到**：一個包含完整連接字串的卡片，您可以直接複製並貼到您的應用程式的環境變數中。

**恭喜！** 您已經完成了第一階段的學習，成功地走完了創建並連接資料庫的全過程。您已經掌握了與資料庫「打招呼」的能力。

---

## 第二階段：核心功能：日常維運自動化

**目標**：在本階段，您將學會使用連結器來執行最常見的資料庫維運任務，將您從重複的手動操作中解放出來。

### 2.1 核心概念：什麼是「Schema Introspection」？

「Schema Introspection」是一個很酷的詞，它的意思就是「看透資料庫的結構」。當您接手一個現有的資料庫，或者想要快速了解資料庫中有哪些資料表、欄位和關聯時，這個功能就非常有用。它會自動幫您產生 Prisma Schema Language (PSL) 檔案，這是 Prisma ORM 用來定義資料模型的方式。

### 2.2 實踐任務：幫我看看這個資料庫長什麼樣子

- **您的指令**：「幫我分析一下 `production-database` (ID: db_clxm8p4a1000008l9g1j2h3k4) 的資料庫結構。」
- **Manus 的行動**：呼叫 `IntrospectSchemaTool`，並傳入您提供的 `database_id`。
- **您會看到**：一個程式碼區塊，裡面是完整的 Prisma Schema。您可以直接將它存成 `schema.prisma` 檔案，然後用 Prisma Client 來操作資料庫，享受完整的型別安全和自動補全。

### 2.3 實踐任務：我想直接查資料

有時候，您只是想快速地從資料庫中查詢一些資訊，例如「目前有多少註冊用戶？」或「最近 10 筆訂單是什麼？」。這時，您不需要打開複雜的資料庫客戶端工具。

- **您的指令**：「幫我在 `production-database` 上查一下，`User` 資料表裡總共有幾筆資料？」
- **Manus 的行動**：呼叫 `ExecuteSqlQueryTool`，並將您的自然語言轉換為 SQL 查詢 `SELECT COUNT(*) FROM 
