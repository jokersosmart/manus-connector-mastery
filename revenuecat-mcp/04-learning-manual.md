# Dify 學習手冊：快速上手與關鍵技能培養

**作者：Joker**

---

## 歡迎！

本手冊專為希望快速掌握 Dify 核心功能並立即投入實踐的使用者設計。我們將跳過繁複的理論，聚焦於最關鍵的技能，透過清晰的學習目標和動手練習，讓你能在最短時間內，從 Dify 中獲得最大價值。

---

## 第一章：10 分鐘極速上手——你的第一個 AI 應用

**學習目標**：在本章結束時，你將能夠獨立創建、配置並成功運行一個簡單的 Dify 對話應用 (Chatflow)。

### 關鍵技能：

-   理解 Dify Studio 的基本佈局。
-   掌握「節點」的拖拽、連接與配置。
-   學會使用 `{{变量}}` 語法來傳遞數據。

### 實踐練習：天氣查詢機器人

1.  **創建應用**：在 Dify Studio 中創建一個新的「Chatflow」應用。
2.  **設計流程**：
    -   拖入一個 **LLM (大型語言模型)** 節點。
    -   將 **Start** 節點的 `query` 輸出連接到 **LLM** 節點的 `prompt` 輸入。
    -   將 **LLM** 節點的 `text` 輸出連接到 **Answer** 節點的 `answer` 輸入。
3.  **配置 LLM 節點**：
    -   在 **Prompt** 區域，輸入以下指令：
        ```
        你是一個天氣預報員。用戶想查詢城市「{{#start.query#}}」的天氣。請你想像一個今天的天氣狀況（例如：晴天，25°C），並用友善的語氣回覆用戶。
        ```
        > **注意**：`{{#start.query#}}` 會將用戶在聊天框中輸入的城市名，動態地插入到這個位置。
4.  **測試**：
    -   點擊右上角的「調試與預覽」。
    -   在聊天框中輸入「台北」，然後按 Enter。
    -   觀察機器人是否根據你的指令，回報了台北的天氣狀況。

**恭喜！** 你已經掌握了 Dify 最基本的運作邏輯：接收輸入、透過 LLM 處理、然後產生輸出。

---

## 第二章：關鍵技能一——打造你的專屬知識庫問答機器人

**學習目標**：學會使用 Dify 的知識庫功能，創建一個能根據你提供的文件內容回答問題的 AI 應用。

### 關鍵技能：

-   創建和管理知識庫。
-   理解並使用 **Knowledge Retrieval (知識檢索)** 節點。
-   掌握如何將檢索到的上下文 (Context) 融入 LLM 的提示中。

### 實踐練習：個人簡歷問答 Bot

1.  **準備知識**：將你自己的個人簡歷儲存為一個 `.txt` 或 `.md` 檔案。
2.  **創建知識庫**：
    -   在 Dify 左側導航欄進入「知識庫」。
    -   創建一個新知識庫，命名為「My CV」。
    -   上傳你的簡歷檔案，並等待處理完成。
3.  **設計流程**：
    -   在一個新的 Chatflow 中，依序拖入並連接 **Start** -> **Knowledge Retrieval** -> **LLM** -> **Answer**。
4.  **配置節點**：
    -   **Knowledge Retrieval** 節點：在「知識庫」設定中，選擇你剛剛創建的「My CV」。
    -   **LLM** 節點：在 **Prompt** 區域，輸入以下指令：
        ```
        你是一個專業的人力資源專家，你只能根據以下提供的候選人簡歷內容來回答問題，不能杜撰或使用通用知識。

        --- 簡歷內容開始 ---
        {{#knowledge.context#}}
        --- 簡歷內容結束 ---

        現在，請根據以上簡歷，回答用戶的問題：「{{#start.query#}}」
        ```
        > **關鍵**：`{{#knowledge.context#}}` 變數會自動將知識庫中檢索到的最相關的文本片段，填充到這裡。
5.  **測試**：
    -   在預覽窗口中提問，例如：「這位候選人有哪些工作經驗？」或「他擅長什麼技能？」
    -   檢查機器人的回答是否嚴格基於你的簡歷內容。

---

## 第三章：關鍵技能二——用「工具」連接真實世界

**學習目標**：學會使用 Dify 的工具 (Tools) 節點，讓你的 AI 應用能夠執行外部操作，例如上網搜尋。

### 關鍵技能：

-   理解「工具」在 Dify 中的作用。
-   配置並使用內建的 **Google Search** 工具。

### 實踐練習：時事新聞查詢 Bot

1.  **啟用工具**：Dify 的許多工具（如 Google Search）都是預設可用的。你可以在 `Tools` 節點中直接選用。
2.  **設計流程**：
    -   這次我們使用 **Agent (代理)** 節點來簡化流程。Agent 能夠更智能地決定何時使用工具。
    -   連接 **Start** -> **Agent** -> **Answer**。
3.  **配置 Agent 節點**：
    -   在 **Prompt** 區域，為你的 Agent 設定角色和目標：
        ```
        你是一個新聞研究員，你的任務是根據用戶的提問，使用工具來搜尋最新的相關資訊，並進行總結。
        ```
    -   在 **Tools** 區域，點擊「添加」，然後選擇 **Google Search** 工具。
4.  **測試**：
    -   在預覽窗口中提問：「今天科技界有什麼大新聞？」
    -   觀察 Agent 的執行過程。你會看到它首先調用了 Google Search 工具，然後基於搜尋結果，生成了總結性的回答。

---

## 下一步？

你已經掌握了 Dify 最核心的三大技能：**LLM 調用、知識庫整合、外部工具使用**。以此為基礎，你已經可以建構出 80% 常見的 AI 應用。

接下來的探索方向：

-   **探索更多節點**：嘗試使用 **If/Else** 進行流程控制，或使用 **Parameter Extractor** 從用戶問題中提取結構化資訊。
-   **發布你的應用**：將你的應用發布為 WebApp 或 API，與他人分享。
-   **整合至 Manus**：將你的 Dify 應用作為 MCP 伺服器發布，讓 Manus 能夠直接調用你創造的強大功能！

持續練習，不斷創造，你將發現 Dify 的無限可能。
