
# Cloudflare 從新手到精通：掌握意圖驅動的雲端管理

**作者：Joker**

---

## 前言：重新定義你與雲的互動

歡迎來到 Cloudflare 連結器的世界。本指南不是一份傳統的 API 文件，而是一張為您精心繪製的學習地圖。我們將帶您從一位對 Cloudflare 自動化感到陌生的新手，一步步成長為能夠利用自然語言「意圖」嫻熟地指揮和管理雲端基礎設施的專家。

傳統的雲端管理依賴於複雜的儀表板點擊、冗長的 CLI 指令和陡峭的 IaC (基礎設施即程式碼) 學習曲線。Manus 的 Cloudflare 連結器徹底顛覆了這一切。它背後的核心哲學是 **「意圖驅動 (Intent-Driven)」**：您只需用自然語言表達您的最終目標（例如：「為我的新專案建立一個資料庫和一個圖片儲存桶」），剩下的繁瑣細節，交給 Manus Agent 來處理。

本指南將引導您完成五個階段的學習，每個階段都建立在前一個的基礎之上，並包含實踐練習，確保您不僅理解「如何做」，更明白「為什麼這麼做」。

準備好開始了嗎？讓我們一起踏上這段從新手到精通的旅程。

## 第一章：基礎入門 (Novice) - 你的第一次對話

在這一章，我們將建立最基本的概念，並完成您與 Cloudflare 連結器的第一次成功互動。

### 1.1 核心概念：什麼是 Cloudflare 連結器？

想像一下，您有一位極其聰明且高效的 DevOps 助理。您不需要告訴他具體的指令，只需告訴他您的需求。Cloudflare 連結器就是 Manus Agent 的一本「Cloudflare 操作手冊」，讓 Agent 能夠理解並執行您關於 Cloudflare 的各種指令。

它將 Cloudflare 強大的服務（如 R2, D1, Workers）抽象成一個個可以被自然語言觸發的「工具」。

### 1.2 建立連接：認識你的帳戶

在指揮您的助理之前，總得先讓他知道為哪個「老闆」工作。這就是帳戶設定的意義。

1.  **列出所有帳戶 (`accounts_list`)**：這是您的第一步，用來查看您授權給 Manus 的所有 Cloudflare 帳戶。

    *   **自然語言指令範例**：「嘿 Manus，幫我看看我的 Cloudflare 下面有哪些帳戶？」

2.  **設定活動帳戶 (`set_active_account`)**：如果您有多個帳戶，這一步至關重要。它告訴 Manus 在接下來的對話中，所有操作都預設在指定的帳戶下執行。

    *   **自然語言指令範例**：「好的，現在幫我切換到『Joker's Account』這個帳戶上進行操作。」

### 實踐練習 #1：

> 使用 Manus，完成以下任務：
> 1.  列出您所有的 Cloudflare 帳戶。
> 2.  選擇其中一個帳戶，並將其設定為當前的活動帳戶。

## 第二章：核心操作 (Beginner) - 建立你的數位資產

掌握了基礎對話後，我們將開始進行實際的「創造」。本章將教您如何使用連結器來建立和管理 Cloudflare 的核心資源。

### 2.1 鍵值儲存 (KV)：管理設定與功能旗標

Workers KV 是儲存設定檔、功能開關等小型資料的絕佳場所。

*   **建立 (`kv_namespace_create`)**：「幫我建立一個叫做 `my-app-settings` 的 KV 命名空間。」
*   **刪除 (`kv_namespace_delete`)**：「那個 `test-kv` 命名空間不用了，幫我刪掉它。」

### 2.2 物件儲存 (R2)：告別昂貴的出口費用

R2 是儲存圖片、影片、備份等大型檔案的理想選擇，其最大的優勢是沒有出口費用。

*   **建立 (`r2_bucket_create`)**：「我需要一個地方存使用者上傳的頭像，幫我建一個叫 `user-avatars` 的 R2 儲存桶。」
*   **刪除 (`r2_bucket_delete`)**：「`old-project-backups` 這個儲存桶可以清除了。」

### 2.3 無伺服器資料庫 (D1)：邊緣的結構化資料

D1 讓您可以在全球的邊緣網路上擁有一個 SQL 資料庫，非常適合需要低延遲資料庫存取的應用。

*   **建立 (`d1_database_create`)**：「我的部落格需要一個資料庫，幫我建立一個叫 `blog-database` 的 D1 資料庫。」
*   **刪除 (`d1_database_delete`)**：「`analytics-test-db` 這個資料庫是測試用的，幫我刪了吧。」

### 實踐練習 #2：

> 想像您正在啟動一個新的部落格專案，名為「Edge Thinker」。請使用 Manus 和 Cloudflare 連結器完成以下基礎設施的搭建：
> 1.  建立一個名為 `edgethinker-settings` 的 KV 命名空間，用於存放網站設定。
> 2.  建立一個名為 `edgethinker-images` 的 R2 儲存桶，用於存放文章圖片。
> 3.  建立一個名為 `edgethinker-db` 的 D1 資料庫，用於儲存文章和留言。

## 第三章：實戰應用 (Intermediate) - 讓資料流動起來

現在您已經擁有了靜態的資源，是時候讓它們變得「有用」了。本章將聚焦於如何與這些資源互動，特別是 D1 資料庫。

### 3.1 與 D1 對話：查詢與操作資料

`d1_database_query` 是 D1 管理中最強大、最核心的工具。它讓您能用標準的 SQL 語句來操作您的無伺服器資料庫。

*   **建立資料表**：「在 `edgethinker-db` 資料庫裡，幫我建立一個 `posts` 資料表，需要有 `id`, `title`, `content` 和 `created_at` 這幾個欄位。」
*   **插入資料**：「在 `posts` 資料表裡新增一篇文章，標題是『我的第一篇文章』，內容是『Hello, D1!』。」
*   **查詢資料**：「幫我查一下 `posts` 資料表裡所有的文章。」
*   **更新資料**：「把 `posts` 資料表裡 ID 為 1 的文章標題改成『我的第一篇 D1 文章』。」
*   **刪除資料**：「刪除 `posts` 資料表裡 ID 為 2 的文章。」

### 3.2 檢視您的 Workers

雖然此連結器目前不支援直接部署 Worker，但您可以輕鬆地查看和管理現有的 Workers。

*   **列出 (`workers_list`)**：「看看我帳戶裡有哪些正在運行的 Workers。」
*   **檢視程式碼 (`workers_get_worker_code`)**：「我想看看 `my-api-worker` 的程式碼是怎麼寫的。」

### 實踐練習 #3：

> 延續上一章的「Edge Thinker」專案，請完成以下操作：
> 1.  在 `edgethinker-db` 資料庫中，建立一個 `posts` 資料表，欄位應包含：`id` (整數，主鍵)、`title` (文字)、`content` (文字)、`publish_date` (日期時間)。
> 2.  向 `posts` 資料表插入至少兩篇文章。
> 3.  查詢 `posts` 資料表，並確認您的文章已成功插入。

## 第四章：進階技巧 (Advanced) - 自動化與解決問題

您已經掌握了單一指令的操作，現在是時候將它們串聯起來，實現真正的自動化，並學會如何自主解決問題。

### 4.1 工作流程自動化：組合拳的力量

意圖驅動管理的真正威力在於處理複雜的多步驟任務。您不需要一步步下指令，而是可以直接描述您的最終目標。

*   **目標導向指令**：「我要啟動一個新的電商專案 `e-shop`。幫我完成以下設定：建立一個 `eshop-config` 的 KV 空間，一個 `eshop-products` 的 R2 儲存桶，和一個 `eshop-main-db` 的 D1 資料庫。然後在資料庫裡建立 `users` 和 `orders` 兩個資料表。」

Manus Agent 會自動將這個複雜的目標拆解為一系列連續的工具調用，依次執行，直到完成您的所有要求。

### 4.2 成為解決問題的專家：`search_cloudflare_documentation`

沒有人能記住所有事情。當您遇到不確定的問題時（例如：「D1 資料庫的儲存空間限制是多少？」），`search_cloudflare_documentation` 工具就是您最好的朋友。它能直接在 Cloudflare 的官方文件中找到答案。

*   **自然語言指令範例**：「幫我查一下 Cloudflare R2 的定價策略是怎樣的？」

### 實踐練習 #4：

> 您的團隊準備啟動一個內部使用的 URL 縮短服務。請用一個指令，讓 Manus 完成以下所有初始化工作：
> 1.  建立一個名為 `url-shortener-db` 的 D1 資料庫。
> 2.  在該資料庫中，建立一個名為 `links` 的資料表，包含 `id` (文字，作為短網址)、`original_url` (文字)、`created_at` (日期時間) 欄位。
> 3.  使用 `search_cloudflare_documentation` 工具，查詢「如何將自訂網域綁定到 Cloudflare Worker」。

## 第五章：通往精通之路 (Master) - 像戰略家一樣思考

到了這個階段，您已經不再是一個單純的「操作者」，而是一位雲端基礎設施的「規劃者」和「戰略家」。

### 5.1 從「指令」到「意圖」

精通的關鍵在於思維模式的轉變。不要再思考「我需要執行 `d1_database_create` 指令」，而是思考「我需要一個地方來儲存用戶資料」。將您的「意圖」直接告訴 Manus，讓它來負責「執行」。這種抽象層次的提升，能讓您專注於更高層次的架構設計，而不是底層的實現細節。

### 5.2 將連結器融入您的 DevOps 生命週期

考慮如何將 Manus 和 Cloudflare 連結器整合到您現有的開發和部署流程中：

*   **開發環境快速搭建**：用一個指令為新功能分支建立一套完整的測試環境 (KV, R2, D1)。
*   **預覽環境管理**：自動為每個 Pull Request 部署一個包含獨立後端資源的預覽環境。
*   **日常維護**：透過自然語言快速查詢日誌、管理資料庫備份（未來可能的功能）。

### 最終挑戰：

> 設計一個完整的、自動化的工作流程，用於部署一個全新的、基於 Cloudflare 的全端部落格應用。您的設計應以一份 Markdown 文件的形式呈現，詳細描述您會對 Manus 下達哪些高層次的自然語言「意圖」，以及您期望 Manus 如何一步步使用 Cloudflare 連結器來實現這個目標。您的設計應涵蓋從專案初始化、資源配置、資料表建立到（概念上的）程式碼部署的整個流程。

## 結語

恭喜您完成了這趟從新手到精通的旅程！您現在掌握的不僅僅是如何操作一個工具，而是一種全新的、更高效、更直觀的雲端管理哲學。Cloudflare 的強大能力，現在已經可以透過您最自然的語言來駕馭。

持續探索，不斷實踐，您會發現，您與雲端基礎設施之間的溝通，從未如此簡單而強大。
