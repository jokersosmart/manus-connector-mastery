_注意：本學習手冊旨在幫助開發者快速上手一個理想化的「Neon」MCP 連結器。所有練習和目標都圍繞著將 Neon 的核心功能無縫整合到敏捷開發工作流中。作者：Joker_

# 「Neon」連結器快速上手學習手冊

本手冊為希望快速掌握 Manus MCP「Neon」連結器的開發者設計，旨在透過一系列清晰的學習目標和實踐練習，讓您在最短時間內掌握利用 Neon 提升開發效率的關鍵技能。

## 學習目標

完成本手冊後，您將能夠：

1.  **理解 Neon 的核心價值**：闡述資料庫分支與傳統資料庫管理的區別和優勢。
2.  **獨立管理開發環境**：使用單一自然語言指令建立、查詢和清理您的開發資料庫環境。
3.  **整合 Neon 於 CI/CD 流程**：設計一個自動化測試流程，為每個 Pull Request 動態建立包含生產資料副本的隔離測試資料庫。
4.  **實踐「資料庫即代碼」**：將資料庫分支管理融入您的日常 Git 工作流中。

---

## 模組一：基礎入門 (預計時間：30 分鐘)

**目標**：完成您的第一個 Neon 資料庫分支的建立，並成功連線。

### 關鍵技能 1：理解核心概念

在開始之前，請確保您能回答以下問題：

*   Neon 的「分支」與 Git 的「分支」有何相似之處？
*   相比傳統的資料庫複製，Neon 的「寫時複製 (Copy-on-Write)」技術有什麼好處？
*   什麼是「計算與儲存分離」架構？它如何幫助您節省成本？

### 關鍵技能 2：建立您的第一個開發環境

這是您將要學習的第一個也是最重要的指令。它將繁瑣的資料庫設定過程簡化為一句話。

**練習 1.1：建立新專案的開發分支**

1.  想像您正在開始一個全新的專案，名為 `my-blog`。
2.  向 Manus Agent 發出以下指令：
    > 「為我的新專案 `my-blog` 建立一個初始開發環境，分支名叫 `dev`。」
3.  **驗證**：
    *   檢查 Manus Agent 是否返回了一個包含 `project_name: "my-blog"` 和 `branch_name: "dev"` 的 JSON 物件。
    *   複製返回的 `connection_string`。
    *   使用您喜歡的資料庫客戶端 (如 DBeaver, TablePlus) 或程式碼，嘗試使用此連線字串連線到資料庫。

**練習 1.2：查詢連線字串**

1.  假裝您忘記了剛才的連線字串。
2.  向 Manus Agent 發出指令：
    > 「告訴我 `my-blog` 專案下 `dev` 分支的資料庫連線字串。」
3.  **驗證**：檢查返回的連線字串是否與練習 1.1 中獲得的相同。

---

## 模組二：融入日常開發 (預計時間：1 小時)

**目標**：將 Neon 分支管理與您的 Git 工作流結合，為每個功能開發建立獨立的資料庫環境。

### 關鍵技能 3：實踐 Feature Branch 工作流

這個技能是將 Neon 從一個「酷炫的工具」變為「日常生產力」的關鍵。

**練習 2.1：為新功能建立資料庫分支**

1.  在您的 `my-blog` 專案的 Git 儲存庫中，從 `main` 分支建立一個新的 feature 分支，名為 `feature/add-comments`。
2.  現在，為這個 Git 分支建立一個對應的資料庫分支。向 Manus Agent 發出指令：
    > 「在 `my-blog` 專案中，從 `main` 分支建立一個叫 `feature/add-comments` 的資料庫分支。」
3.  **情境模擬**：
    *   在此分支上執行一個資料庫遷移，新增一個 `comments` 資料表。
    *   確認 `main` 分支的資料庫中**沒有**這個 `comments` 資料表。
    *   這證明了分支之間的隔離性。

**練習 2.2：從生產資料除錯**

1.  想像您的生產環境 (`main` 分支) 出現了一個只有特定使用者資料才能重現的錯誤。
2.  建立一個安全的除錯環境。向 Manus Agent 發出指令：
    > 「我需要在 `my-blog` 專案裡除錯，幫我從 `main` 分支複製一份資料，建立一個叫 `hotfix/debug-user-issue` 的分支。」
3.  **驗證**：連線到 `hotfix/debug-user-issue` 分支，確認其中的資料與 `main` 分支完全相同。現在您可以在不影響生產的情況下，安全地重現和修復問題。

---

## 模組三：自動化與進階應用 (預計時間：2 小時)

**目標**：將 Neon 整合到您的 CI/CD 流程中，並學會如何管理分支生命週期。

### 關鍵技能 4：在 CI 中動態建立測試資料庫

這是 Neon 最高級的應用之一，能夠極大地提升您的測試覆蓋率和程式碼品質。

**練習 3.1：設計 CI 腳本**

1.  這是一個思考練習，您需要設計一個在 GitHub Actions 中使用的 CI 腳本片段。
2.  **需求**：每當有新的 Pull Request 提交到 `main` 分支時，自動執行以下操作：
    *   從 `main` 資料庫分支建立一個新的測試分支，分支名稱應包含 PR 的編號 (例如 `pr-15`)。
    *   執行專案的整合測試，測試時需使用新建立的資料庫分支。
    *   無論測試成功或失敗，都要刪除這個臨時的測試分支。
3.  **您的任務**：編寫一個 `yaml` 檔案的 `steps` 部分，描述如何使用 `manus-mcp-cli` 或呼叫 Manus API 來完成上述 `setup` 和 `teardown` 步驟。

### 關鍵技能 5：分支生命週期管理

一個健康的專案需要定期清理不再需要的分支，以保持整潔並控制成本。

**練習 3.2：定期清理**

1.  您的 `my-blog` 專案已經執行了一段時間，累積了許多 `feature/*` 和 `hotfix/*` 分支。
2.  向 Manus Agent 發出指令，進行一次安全的清理：
    > 「幫我清理一下 `my-blog` 專案。把所有超過 21 天沒有活動的非主幹分支都刪掉。不要刪除 `main` 和 `staging`。」
3.  **驗證**：檢查 Manus Agent 返回的 `deleted_branches` 列表，確保它符合您的預期。

## 結語

恭喜您完成了 Neon 連結器的快速上手學習！您現在已經掌握了將現代資料庫管理實踐融入日常開發所需的全部核心技能。從這裡開始，不斷在您的真實專案中應用這些知識，您會發現開發速度和信心都將得到顯著提升。
