# Supabase 從新手到精通

作者：Joker

## 前言：您的全端開發加速器

歡迎來到「Supabase 從新手到精通」指南。如果您是一位夢想快速建構功能強大、可擴展應用程式的開發者，那麼您來對地方了。Supabase 以其「開源 Firebase 替代品」的定位，為您提供了一整套易於使用的後端工具，而 Manus 的 Supabase 連結器，更是將這份強大能力，融入到了您的自然語言工作流中。

本指南將帶您走過一條精心設計的學習路徑，從 Supabase 的核心概念，到使用 Manus 連結器完成一個真實世界的專案。讀完本指南，您將不僅僅是學會了幾個指令，而是掌握了一套全新的、以自然語言驅動的全端開發思維模式。

## 第一章：基礎概念 —— Supabase 的世界觀

在我們深入指令細節之前，讓我們先建立一個共同的知識地圖。理解 Supabase 的核心理念，是高效使用此連結器的基石。

### 什麼是後端即服務 (BaaS)？

想像一下，您想蓋一棟房子，但不必親自去燒磚、拌水泥、拉電線。BaaS 平台就像是提供這些預製好的「建築模組」的供應商。您只需要專注於房子的設計與內部裝潢（也就是您的前端應用），而所有複雜的基礎設施（資料庫、使用者認證、檔案儲存等）都由 BaaS 平台為您處理好。這大大加速了開發速度，並降低了技術門檻。

### Supabase 的三大支柱

Supabase 的核心由三大服務構成，Manus 連結器也圍繞它們進行設計：

1.  **Postgres 資料庫 (Database)**：這不僅僅是一個普通的資料庫。Supabase 為您的 Postgres 資料庫自動生成 RESTful API，讓您能像存取一個網站一樣，用簡單的指令來讀寫數據。這是您應用程式所有數據的家。

2.  **使用者認證 (Auth)**：處理使用者註冊、登入、密碼重設等所有與身份相關的繁瑣事務。Supabase 提供了一套完整的解決方案，而 Manus 則將其簡化為幾個直接的指令。

3.  **檔案儲存 (Storage)**：讓您能輕鬆上傳、下載和管理使用者頭像、產品圖片、文件等各類檔案，並透過 CDN 在全球範圍內快速分發。

理解這三大支柱，您就掌握了 Supabase 宇宙的運行規則。接下來，我們將學習如何透過 Manus 指揮這個宇宙。

## 第二章：核心功能實戰 —— 用自然語言操作數據

理論是灰色的，而生命之樹常青。現在，讓我們透過具體的指令，來感受 Manus Supabase 連結器的威力。在本章中，我們將聚焦於最常用的資料庫操作。

### 您的第一個指令：查詢數據

假設您有一個 `products` 資料表，現在您想找出所有商品。在過去，您可能需要寫一段 SQL 或客戶端程式碼。現在，您只需要對 Manus 說：

> 「幫我查詢 `products` 資料表中的所有資料。」

Manus 會將您的指令轉換為 `database.select` 工具的調用。如果您想增加條件，指令也會隨之改變：

> 「從 `products` 表中，找出 `category` 是 `electronics` 的前 10 項商品。」

這種直觀的互動方式，讓您能專注於「您想要什麼」，而非「您該如何寫程式碼」。

### 建立、更新與刪除

同樣地，寫入數據也變得異常簡單。

-   **新增商品**：「在 `products` 表中新增一筆記錄，設定 `name` 為 'My Awesome Product'，`price` 為 49.99。」 (對應 `database.insert`)
-   **更新價格**：「更新 `products` 表，將 `id` 為 `prod_xyz` 的商品 `price` 改為 39.99。」 (對應 `database.update`)
-   **下架商品**：「從 `products` 表中刪除 `id` 為 `prod_xyz` 的記錄。」 (對應 `database.delete`)

透過這些基礎操作的組合，您已經能完成絕大多數應用程式的後端需求。

## 第三章：進階技巧 —— 解鎖 Supabase 的全部潛力

掌握了基礎操作後，讓我們來探索一些能讓您的應用程式脫穎而出的進階功能。

### Row Level Security (RLS)：精細的權限控制

RLS 是 Postgres 的一個強大功能，也是 Supabase 安全模型的核心。它允許您為資料庫的「每一行」數據定義誰可以存取、誰可以修改。例如，您可以設定一條規則：「使用者只能看到自己建立的訂單」。

雖然 RLS 規則本身需要在 Supabase 的儀表板中設定，但 Manus 連結器在執行所有 `select`, `update`, `delete` 操作時，都會自動遵循這些規則。這意味著，您不必在您的 Manus 指令中擔心權限問題，因為 Supabase 會在後端為您強制執行，確保數據安全。

### 呼叫資料庫函數 (RPC)

有時候，您需要的邏輯比簡單的 CRUD 更複雜，例如計算購物車總價、或處理一筆複雜的交易。您可以將這些邏輯寫成一個 Postgres 函數，並部署到 Supabase。然後，使用 Manus 的 `database.rpc` 工具來呼叫它。

> 「呼叫資料庫函數 `calculate_cart_total`，並傳入參數 `user_id` 為 `usr_abc`。」

這讓您能將複雜的業務邏輯保留在資料庫層，保持 API 的簡潔，同時獲得接近原生的執行效能。

## 第四章：實戰專案 —— 打造一個待辦事項應用

現在，讓我們將所學的一切融會貫通，用 Manus 和 Supabase 從零開始打造一個簡單但完整的待辦事項 (Todo) 應用。

### 步驟一：建立資料表

首先，我們需要在 Supabase 中建立一個 `todos` 資料表，它至少需要包含以下欄位：`id` (主鍵), `task` (任務內容), `is_completed` (是否完成), `created_at` (建立時間), `user_id` (對應到使用者)。

### 步驟二：用 Manus 進行操作

1.  **新增待辦事項**：
    > 「在 `todos` 表中新增一條任務，內容是 '學習 Manus 連結器'，並將 `is_completed` 設為 false。」

2.  **查詢未完成的任務**：
    > 「查詢 `todos` 表中所有 `is_completed` 為 false 的任務。」

3.  **標記為已完成**：
    > 「更新 `todos` 表，將 `id` 為 `todo_123` 的任務的 `is_completed` 設為 true。」

4.  **刪除任務**：
    > 「從 `todos` 表中刪除 `id` 為 `todo_123` 的任務。」

透過這一系列指令，您已經用純自然語言實現了一個功能完整的後端服務。您可以將任何前端框架（如 React 或 Vue）與之對接，前端負責畫面展示，而所有數據操作都交給 Manus 和 Supabase。

## 結語：您已成為一名 Supabase 大師

恭喜您！從基礎概念到實戰專案，您已經走完了成為 Supabase 大師的完整路徑。您學到的不僅僅是如何使用一個工具，而是一種全新的開發哲學：將繁瑣的後端實作細節抽象化，專注於業務邏輯與使用者價值的創造。

這趟旅程才剛剛開始。Supabase 的世界還有更多功能等待您去探索，例如 Realtime 即時訂閱、Edge Functions 等。而 Manus 也會持續進化，為您帶來更多強大的連結器。現在，就用您新學會的技能，去創造下一個偉大的應用吧！
