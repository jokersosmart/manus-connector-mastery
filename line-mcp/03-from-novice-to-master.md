# 「LINE」連結器：從新手到精通

作者：Joker

## 前言

歡迎來到「LINE」連結器的學習之旅！本指南將帶您從一位對 LINE 自動化一無所知的新手，逐步成長為能夠靈活運用其所有功能、打造複雜工作流程的專家。無論您是想自動發送提醒，還是建立一個智能客服機器人，這裡都有您需要的知識。

## 第一階段：基礎概念 (Novice)

### 學習目標

-   理解 Manus MCP 連結器的基本作用。
-   了解 LINE 連結器能解決什麼核心問題。
-   完成 LINE 連結器的首次設定與驗證。

### 核心概念

1.  **什麼是 Manus MCP 連結器？**
    -   它是一座橋樑，連接 Manus Agent 與外部服務（如 LINE）。讓您能用自然語言指令，透過 Manus 來操作這些服務的 API。

2.  **LINE 連結器的價值是什麼？**
    -   **自動化：** 將手動、重複的 LINE 操作（如發送每日報告、會議提醒）自動化。
    -   **整合：** 將 LINE 的即時通訊能力與其他工具（如 Notion、Google Sheets）結合，創造更強大的工作流程。
    -   **互動：** 建立能夠回應使用者訊息的聊天機器人，提供即時資訊或服務。

### 實踐練習

-   **任務：** 成功設定您的 LINE 連結器，並向您自己的 LINE 帳號發送第一則「Hello, Manus!」訊息。
-   **指令：** `「使用 LINE 連結器，發送一則訊息給我自己，內容是 Hello, Manus!」`

## 第二階段：核心功能 (Adept)

### 學習目標

-   熟練掌握 `send_message` 工具的所有參數。
-   學習如何獲取使用者個人資料 (`get_profile`)。
-   了解如何建立簡單的訊息回覆機器人 (`reply_to_message`)。

### 核心功能詳解

1.  **主動訊息發送 (`send_message`)**
    -   您不僅可以向個人發送訊息，還可以向群組 (`C...`) 和聊天室 (`R...`) 發送。這對於團隊通知非常有用。

2.  **使用者資訊獲取 (`get_profile`)**
    -   在需要個人化互動時，可以先用此工具獲取使用者的名稱，讓您的回覆更具親和力。例如：`「Joker，您好！感謝您的訊息。」`

3.  **被動訊息回覆 (`reply_to_message`)**
    -   這是建立聊天機器人的基礎。您需要設定一個 Webhook URL 來接收 LINE 的訊息事件，並從事件中取得 `reply_token`。

### 實踐練習

-   **任務：** 建立一個簡單的「鸚鵡機器人」。當您向您的 LINE 官方帳號發送任何訊息時，它會自動回覆相同的訊息內容。
-   **挑戰：** 修改您的鸚鵡機器人，讓它在回覆時，會先稱呼您的名字。 (提示：結合 `get_profile` 和 `reply_to_message`)

## 第三階段：進階技巧 (Expert)

### 學習目標

-   學習使用 LINE 的進階訊息類型，如貼圖、圖片、樣板訊息 (Template Messages)。
-   了解如何處理來自不同使用者的並發請求。
-   掌握錯誤處理與日誌記錄的最佳實踐。

### 進階技巧探討

1.  **豐富訊息格式**
    -   除了純文字，LINE API 支援多種訊息格式。例如，您可以發送一個包含「是」/「否」按鈕的確認樣板，讓使用者直接點擊互動，而不是輸入文字。

2.  **狀態管理**
    -   對於需要多輪對話的機器人（如預約系統），您需要在外部資料庫（如 Redis 或一個簡單的 JSON 文件）中記錄每個使用者的對話狀態。

3.  **非同步處理**
    -   當您的機器人需要執行耗時操作（如查詢資料庫、呼叫外部 API）時，應先立即回覆一則「處理中...」的訊息，然後在背景完成任務，再主動推播最終結果。避免讓使用者長時間等待而導致超時。

### 實踐練習

-   **任務：** 建立一個「待辦事項機器人」。
    -   輸入 `add 洗衣服`，機器人會記錄下來。
    -   輸入 `list`，機器人會列出所有待辦事項。
    -   輸入 `done 洗衣服`，機器人會將該事項標記為完成。

## 第四階段：實戰應用 (Master)

### 學習目標

-   將 LINE 連結器與至少兩個其他 Manus 連結器整合，打造跨系統的自動化流程。
-   設計並實作出一個能解決真實世界問題的完整應用。
-   為您的應用撰寫清晰的文件與使用說明。

### 實戰案例分析

1.  **CRM 事件通知**
    -   **流程：** 當 Salesforce 中有新的高優先級客戶投訴時，自動觸發流程，整理客戶資訊和投訴內容，並立即透過 LINE `send_message` 發送給指定的客服主管，以便第一時間處理。

2.  **每日銷售報告**
    -   **流程：** 每天下午 6 點，自動從 Google Sheets 的銷售數據表中拉取當日業績，產生摘要報告，並透過 LINE `send_message` 發送到公司高階主管的群組中。

3.  **智慧預約系統**
    -   **流程：** 使用者透過 LINE 官方帳號輸入「我想預約」，機器人會透過多輪對話詢問服務項目、時間，並查詢 Google Calendar 的空閒時段，最後在行事曆上建立活動並回傳預約成功通知給使用者。

### 畢業專案

-   **挑戰：** 選擇一個您在工作或生活中遇到的重複性任務，設計並實作出一個利用 LINE 連結器和其他工具的自動化解決方案。將您的成果、設計思路和使用說明分享到 Manus 社群中。
