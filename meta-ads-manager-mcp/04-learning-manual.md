# 「Cloudflare API」連結器學習手冊

**作者：Joker**

---

本手冊專為希望快速上手 Manus「Cloudflare API」連結器的使用者設計。我們將摒棄冗長的理論，透過一系列清晰的學習目標和動手實踐練習，幫助您在最短時間內掌握最核心、最實用的自動化技能。

## 學習目標

完成本手冊後，您將能夠：

1.  **理解核心概念：** 明白如何透過自然語言指令與 Cloudflare API 互動。
2.  **管理核心資源：** 熟練使用連結器對 Workers KV、R2 和 D1 進行基本的建立、查詢、刪除操作。
3.  **執行基礎查詢：** 能夠從 D1 資料庫中檢索所需的資訊。
4.  **建立簡單工作流：** 組合多個指令，完成一個基礎的自動化任務。

## 準備工作：設定您的操作環境

在開始之前，我們需要告訴 Manus 我們要操作哪個 Cloudflare 帳戶。這就像在開車前先選擇要開哪輛車一樣。

### 技能 1：指定並列出您的帳戶

**目標：** 獲取您的 Cloudflare 帳戶列表，並設定一個有效的帳戶 ID 以進行後續操作。

**練習：**

1.  **列出帳戶：**
    *   **下達指令：** 「幫我列出 Cloudflare 帳戶」
    *   **對應工具：** `cloudflare.accounts_list`
    *   **觀察輸出：** 您會得到一個列表，其中包含您所有帳戶的名稱和 ID。找到您想操作的那個帳戶，並複製它的 `id`。

2.  **設定有效帳戶：**
    *   **下達指令：** 「設定我的 Cloudflare 有效帳戶 ID 為 `[貼上您複製的帳戶 ID]`」
    *   **對應工具：** `cloudflare.set_active_account`
    *   **觀察輸出：** 系統會確認有效帳戶已成功設定。

**恭喜！** 您已經完成了與 Cloudflare 連結器互動的第一步。現在，所有後續指令都將在這個指定的帳戶下執行。

## 核心技能：管理您的雲端資源

現在，讓我們開始學習如何像堆疊積木一樣，操作 Cloudflare 的核心服務。

### 技能 2：掌管您的鍵值儲存 (Workers KV)

**目標：** 學習建立、列出和刪除 KV 命名空間。KV 是儲存設定、功能旗標等小型資料的絕佳位置。

**練習：**

1.  **建立一個臨時命名空間：**
    *   **指令：** 「幫我建立一個名為 `my-first-kv` 的 KV 命名空間」
    *   **工具：** `cloudflare.kv_namespace_create`

2.  **驗證它是否存在：**
    *   **指令：** 「列出我所有的 KV 命名空間」
    *   **工具：** `cloudflare.kv_namespaces_list`
    *   **觀察：** 您應該能在列表中看到剛剛建立的 `my-first-kv`。

3.  **清理測試資料：**
    *   **指令：** 「刪除 `[my-first-kv 的 ID]` 這個 KV 命名空間」 (您需要從上一步的輸出中複製 ID)
    *   **工具：** `cloudflare.kv_namespace_delete`

### 技能 3：打造您的物件儲存空間 (R2)

**目標：** 學習建立、列出和刪除 R2 儲存桶。R2 非常適合存放網站靜態檔案、圖片或任何您想儲存的檔案。

**練習：**

1.  **建立一個新的儲存桶：**
    *   **指令：** 「建立一個名為 `my-project-assets` 的 R2 儲存桶」
    *   **工具：** `cloudflare.r2_bucket_create`

2.  **檢查儲存桶列表：**
    *   **指令：** 「列出我所有的 R2 儲存桶」
    *   **工具：** `cloudflare.r2_buckets_list`
    *   **觀察：** 確認 `my-project-assets` 出現在列表中。

3.  **刪除儲存桶：**
    *   **指令：** 「幫我刪除 `my-project-assets` 這個 R2 儲存桶」
    *   **工具：** `cloudflare.r2_bucket_delete`

### 技能 4：與您的無伺服器資料庫對話 (D1)

**目標：** 學習如何查詢 D1 資料庫。D1 讓您無需管理伺服器即可擁有一個 SQL 資料庫。

**練習 (假設您已存在一個名為 `user-stats` 的 D1 資料庫，且其中有 `users` 表)：**

1.  **列出所有資料庫以找到 ID：**
    *   **指令：** 「列出我所有的 D1 資料庫」
    *   **工具：** `cloudflare.d1_databases_list`
    *   **觀察：** 找到 `user-stats` 資料庫並複製其 ID。

2.  **執行一個簡單的查詢：**
    *   **指令：** 「在 ID 為 `[user-stats 的 ID]` 的 D1 資料庫中，執行 SQL 查詢 `SELECT COUNT(*) FROM users;`」
    *   **工具：** `cloudflare.d1_database_query`
    *   **觀察：** 您將會得到 `users` 表中的總行數。

3.  **執行一個帶條件的查詢：**
    *   **指令：** 「在 D1 資料庫 `[user-stats 的 ID]` 中，查詢 `SELECT * FROM users WHERE registration_date > '2024-01-01';`」
    *   **工具：** `cloudflare.d1_database_query`
    *   **觀察：** 檢視回傳的資料，確認它們都符合查詢條件。

## 實踐練習：一鍵建立專案基礎設施

**目標：** 將前面學到的技能組合起來，用一條指令完成為新專案建立所需資源的任務。

**場景：** 您即將開始一個名為 `new-blog` 的新專案，它需要一個 KV 命名空間來儲存設定，以及一個 R2 儲存桶來存放圖片。

**練習：**

*   **下達複合指令：**
    > 「幫我建立一個名為 `new-blog-config` 的 KV 命名空間，然後再建立一個名為 `new-blog-images` 的 R2 儲存桶。」

*   **觀察 Manus 的執行過程：**
    1.  Manus 首先會解析您的指令，識別出兩個獨立的任務。
    2.  它會先執行第一個任務，調用 `cloudflare.kv_namespace_create` 工具。
    3.  接著，它會執行第二個任務，調用 `cloudflare.r2_bucket_create` 工具。

*   **驗證結果：**
    > 「幫我列出所有的 KV 命名空間和 R2 儲存桶。」

**做得好！** 您已經成功地將多個原子操作組合成一個有意義的工作流，這正是 Cloudflare 連結器強大之處的精髓。

## 下一步

您現在已經掌握了使用「Cloudflare API」連結器的基礎。若想探索更進階的主題，例如：

*   如何將連結器整合到您的 CI/CD 流程中？
*   如何利用 Workers 和 KV/D1 打造複雜的無伺服器應用？
*   如何根據您的角色（開發者、維運、主管）規劃專屬的學習路徑？

我們強烈建議您繼續閱讀 **`03-from-novice-to-master.md`（從新手到精通指南）**。它將為您開啟通往自動化大師的道路。
